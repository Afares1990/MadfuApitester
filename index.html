<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fly Nas — API Flow Tester (v3.1)</title>
  <style>
    body{font-family:Segoe UI, Roboto, Arial, sans-serif;background:#f4f6f8;margin:0;padding:20px;color:#222}
    .container{max-width:1100px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:20px;margin:0}
    .version{color:#666;font-size:13px}

    .panel{background:#fff;border-radius:8px;box-shadow:0 1px 3px rgba(0,0,0,0.08);padding:16px;margin-bottom:14px}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .col{flex:1 1 200px;min-width:200px}
    label{display:block;font-size:13px;color:#333;margin-bottom:6px}
    input[type=text], input[type=password], select, textarea{width:100%;padding:8px 10px;border:1px solid #d1d7dc;border-radius:6px;font-size:14px}

    /* highlighted credential fields */
    .cred {background:linear-gradient(90deg,#fffbe6,#fff3d1);border:1px solid #ffd24d}
    .admin-highlight{background:linear-gradient(90deg,#fff0f6,#ffe6ee);border:1px solid #ff8fb1}

    .section-title{font-weight:600;margin-bottom:10px}

    /* Order fields full */
    .order-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .order-grid .col{min-width:0}

    /* Logs minimized */
    .logs{height:80px;overflow:auto;background:#0b1220;color:#cfe; padding:8px;border-radius:6px;font-family:monospace;font-size:13px}
    .logs.collapsed{height:40px}

    .success-box{background:#e6ffef;border:1px solid #3ac17b;color:#064d2c;padding:10px;border-radius:6px;display:none}
    .success-box.show{display:block}

    .actions{display:flex;gap:10px;align-items:center}
    button{background:#0b5fff;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer;font-weight:600}
    button.secondary{background:#e9eef6;color:#0b3a66}
    .btn-generate{background:#1d7a1d}

    .small{font-size:12px;color:#666}

    footer{margin-top:18px;text-align:center;color:#888;font-size:13px}

    @media(max-width:800px){.order-grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Fly Nas — API Flow Tester <span class="version">(v3.1)</span></h1>
        <div class="small">Interactive UI for testing Fly Nas API flows</div>
      </div>
      <div class="actions">
        <button id="btnPreview" class="secondary">Preview</button>
        <button id="btnGenerate" class="btn-generate">Preview & Generate Word</button>
      </div>
    </header>

    <section class="panel">
      <div class="section-title">Credentials</div>
      <div class="row">
        <div class="col">
          <label for="clientId">Client ID</label>
          <input id="clientId" class="cred" type="text" placeholder="Enter Client ID" />
        </div>
        <div class="col">
          <label for="clientSecret">Client Secret</label>
          <input id="clientSecret" class="cred" type="text" placeholder="Enter Client Secret" />
        </div>
        <div class="col">
          <label for="env">Environment</label>
          <select id="env">
            <option value="sandbox">Sandbox</option>
            <option value="production">Production</option>
          </select>
        </div>
      </div>

      <div style="margin-top:12px" class="row">
        <div class="col">
          <label for="AdminUser">Admin User</label>
          <input id="AdminUser" class="admin-highlight" type="text" placeholder="AdminUser" />
        </div>
        <div class="col">
          <label for="AdminPassword">Admin Password</label>
          <input id="AdminPassword" class="admin-highlight" type="password" placeholder="AdminPassword" />
        </div>
        <div class="col">
          <label for="role">Role</label>
          <input id="role" type="text" placeholder="Optional role" />
        </div>
      </div>
    </section>

    <section class="panel">
      <div class="section-title">Full Order Fields</div>
      <div class="order-grid">
        <div>
          <label for="orderId">Order ID</label>
          <input id="orderId" type="text" placeholder="Order ID" />
        </div>
        <div>
          <label for="customerName">Customer Name</label>
          <input id="customerName" type="text" placeholder="Full name" />
        </div>
        <div>
          <label for="customerEmail">Customer Email</label>
          <input id="customerEmail" type="text" placeholder="email@example.com" />
        </div>

        <div>
          <label for="flightNumber">Flight Number</label>
          <input id="flightNumber" type="text" placeholder="e.g. XY123" />
        </div>
        <div>
          <label for="departure">Departure (IATA)</label>
          <input id="departure" type="text" placeholder="JED" />
        </div>
        <div>
          <label for="arrival">Arrival (IATA)</label>
          <input id="arrival" type="text" placeholder="RUH" />
        </div>

        <div>
          <label for="departureDate">Departure Date</label>
          <input id="departureDate" type="text" placeholder="YYYY-MM-DD" />
        </div>
        <div>
          <label for="passengers">Passengers</label>
          <input id="passengers" type="text" placeholder="1" />
        </div>
        <div>
          <label for="amount">Amount</label>
          <input id="amount" type="text" placeholder="100.00" />
        </div>

        <div style="grid-column:1 / -1">
          <label for="notes">Notes / Additional Data</label>
          <textarea id="notes" rows="3" placeholder="Any order-related notes"></textarea>
        </div>
      </div>

      <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
        <button id="btnSend">Send Request</button>
        <button id="btnReset" class="secondary">Reset</button>
      </div>
    </section>

    <section class="panel">
      <div class="section-title">Response & Logs</div>
      <div class="success-box" id="successBox">Success: Request completed successfully.</div>

      <div style="margin-top:8px" class="row">
        <div style="flex:1 1 60%">
          <label>Response Preview</label>
          <textarea id="responsePreview" rows="6" style="width:100%;font-family:monospace;border-radius:6px;padding:8px;border:1px solid #d1d7dc"></textarea>
        </div>
        <div style="flex:1 1 35%">
          <label>Logs (minimized)</label>
          <div id="logs" class="logs collapsed">[INFO] Ready. Logs will appear here. Click "Expand Logs" to view more.</div>
          <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end">
            <button id="toggleLogs" class="secondary">Expand Logs</button>
          </div>
        </div>
      </div>
    </section>

    <footer>
      Built for Fly Nas testing — UI restored to accepted look
    </footer>
  </div>

  <script>
    const successBox = document.getElementById('successBox');
    const logs = document.getElementById('logs');
    const toggleLogs = document.getElementById('toggleLogs');
    const btnPreview = document.getElementById('btnPreview');
    const btnGenerate = document.getElementById('btnGenerate');
    const btnSend = document.getElementById('btnSend');

    toggleLogs.addEventListener('click', ()=>{
      const expanded = logs.classList.toggle('collapsed');
      toggleLogs.textContent = expanded ? 'Collapse Logs' : 'Expand Logs';
      if(!expanded) logs.scrollTop = logs.scrollHeight;
    });

    btnSend.addEventListener('click', ()=>{
      // Simulate response
      document.getElementById('responsePreview').value = JSON.stringify({status:'ok',orderId:document.getElementById('orderId').value},null,2);
      logs.classList.remove('collapsed');
      logs.textContent += '\n[INFO] Request sent at ' + new Date().toISOString();
      successBox.classList.add('show');
    });

    btnPreview.addEventListener('click', ()=>{
      alert('Preview opened (UI placeholder).');
    });

    btnGenerate.addEventListener('click', ()=>{
      // Placeholder: In real implementation this would prepare and download a Word doc
      alert('Preview & Generate Word: generating document (placeholder).');
    });
  </script>
</body>
</html>